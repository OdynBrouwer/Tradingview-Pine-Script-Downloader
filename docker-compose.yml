version: '3.8'

services:
  downloader:
    build: .
    image: tv-downloader:latest
    working_dir: /app
    volumes:
      - ./pinescript_downloads:/app/pinescript_downloads
      - ./:/app:ro
      # If you mount a NAS at /mnt/pinescripts on the host, map it here:
      # - /mnt/pinescripts:/app/pinescript_downloads
    environment:
      - TZ=UTC
      # Optional: override default output inside container
      - PINE_OUTPUT_DIR=/app/pinescript_downloads
    # Example run: docker-compose run --rm downloader python tv_downloader_enhanced.py --url "https://www.tradingview.com/scripts/luxalgo/" --output ./pinescript_downloads
    command: ["/bin/bash"]
